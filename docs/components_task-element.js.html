<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/task-element.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/task-element.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// task-element.js
const style= `
/* Task style */
.task {
  position: relative;
  flex: 0 0 auto;
  margin-top: 0px; 
  padding: 10px;
  background-color: #f4f4f4;
  text-align: center;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}

/* Task title style */
.title {
  border: 1px solid #ddd;
  border-radius: 10px 10px 0 0;
  resize: none;
}

/* Task description style */
.description {
  border: 1px solid #ddd;
  resize: none;
}

/* Task tags style */
.tags {
  border: 1px solid #ddd;
  border-radius: 0 0 10px 10px;
  resize: none;
}

/* Task buttons style */
.task-buttons {
  position: absolute;
  bottom: 15px;
  right: 20px; 
  display: flex;
  flex-direction: row;
  margin-top: auto;
  margin-left: 10px;
  justify-content: flex-end;
}

.task-buttons > button {
  background-position: center;
  background-color: white; 
  height: 20px;
  width: 20px;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  transition: background 0.5s;
}

.save-task {
  background-image: url(../assets/icons/save.svg);
  background-size: 20px 20px;
}

.save-task:hover {
  background-color: #d3d3d3;
}

.delete-task {
  background-image: url(../assets/icons/delete.svg);
  background-size: 35px 35px;
}

.delete-task:hover {
  background-color: #d3d3d3;
}
`;

/**
 * @class TaskElement
 * @classdesc Custom element for a task
 */
class TaskElement extends HTMLElement {
  constructor() {
    super(); // inherets everything from HTMLElement
    this.attachShadow({ mode: 'open' }); // Creates the Shadow DOM
  }

  // Create textarea with inner text and placeholder text
  createTextarea(text, placeholderText, className) {
    const el = document.createElement('textarea');
    el.classList.add(className);
    el.innerHTML = text;
    el.placeholder = placeholderText
    return el;
  }

  // Create tag text by taking tags from arrays and adding spaces in between each tag
  createTags(arr) {
    const tags = document.createElement('textarea');
    tags.classList.add('tags');
    let tag_content = '';
    for (let t in arr) {
      tag_content += arr[t];
      tag_content += ' ';
    }
    tags.innerHTML = tag_content.trim();
    tags.placeholder = "Task Tags"
    return tags
  }
  
  // Creates save and delete buttons and binds them to special events
  createButtons() {
    const buttonWrapper = document.createElement('div');
    buttonWrapper.classList.add('task-buttons');

    const savedEvent = new Event('saved', {bubbles: true, composed: true});
    const saveButton = document.createElement('button');
    saveButton.addEventListener('click', () => { this.dispatchEvent(savedEvent); });
    saveButton.classList.add('save-task');

    const deletedEvent = new Event('deleted', {bubbles: true, composed: true});
    const deleteButton = document.createElement('button');
    deleteButton.addEventListener('click', () => { this.dispatchEvent(deletedEvent); });
    deleteButton.classList.add('delete-task');

    buttonWrapper.append(saveButton, deleteButton);
    return buttonWrapper;
  }

  // Populates element when data is set
  set data(data) {
    // Store the data passed in for later
    this.json = data;

    // Get styles from hard coded styles, needed bc of the shadow DOM
    const styles = document.createElement('style');
    styles.innerHTML = style;

    // Create the task wrapper for the fields to nest inside
    const wrapper = document.createElement('div');
    wrapper.classList.add('task');

    // Create fields and buttons inside wrapper
    const title = this.createTextarea(data.title, "Task Title", 'title');
    const description = this.createTextarea(data.description, "Task Description", 'description');
    const tags = this.createTags(data.tags);
    const buttons = this.createButtons();

    // Add all of the above elements to the wrapper
    wrapper.append(title, description, tags, buttons);

    // Append the wrapper and the styles to the Shadow DOM
    this.shadowRoot.append(styles, wrapper);
  }

  get data() {
    return this.json;
  }

}

customElements.define('task-element', TaskElement);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="TaskElement.html">TaskElement</a></li></ul><h3>Global</h3><ul><li><a href="global.html#add">add</a></li><li><a href="global.html#addNewTasks">addNewTasks</a></li><li><a href="global.html#bindUpdates">bindUpdates</a></li><li><a href="global.html#changeDateHeader">changeDateHeader</a></li><li><a href="global.html#clearTasks">clearTasks</a></li><li><a href="global.html#createTask">createTask</a></li><li><a href="global.html#datesIntoButtons">datesIntoButtons</a></li><li><a href="global.html#deleteTask">deleteTask</a></li><li><a href="global.html#fetchTasks">fetchTasks</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#newTask">newTask</a></li><li><a href="global.html#populatePage">populatePage</a></li><li><a href="global.html#populateUpcoming">populateUpcoming</a></li><li><a href="global.html#saveTask">saveTask</a></li><li><a href="global.html#setWeek">setWeek</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Sat May 25 2024 09:19:39 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
